---
- project:
    name: Osmocom-Debian-install
    jobs:
      - Osmocom-Debian-install-{type}
    type:
      - nightly
      - latest

- job-template:
    name: 'Osmocom-Debian-install-{type}'

    project-type: freestyle
    defaults: global
    description: |
        <ul>
          <li> Install all Osmocom debian packages (<a href="https://osmocom.org/issues/3176">OS#3176</a>)
          <li> Check if Osmocom systemd services start properly (<a href="https://osmocom.org/issues/3369">OS#3369</a>)
        </ul>
    node: osmocom-master-debian9
    parameters:
      - string:
          name: BRANCH
          description: |
                docker-playground.git branch
          default: '*/master'
    builders:
      - shell:
          cd debian-repo-install-test && FEED={type} ./jenkins.sh
    scm:
      - git:
          branches:
            - '$BRANCH'
          url: git://git.osmocom.org/docker-playground
          git-config-name: 'Jenkins Builder'
          git-config-email: 'jenkins@osmocom.org'
    triggers:
      - timed: "@midnight"
    publishers:
      - email:
          notify-every-unstable-build: true
          recipients: 'jenkins-notifications@lists.osmocom.org'

# vim: expandtab tabstop=2 shiftwidth=2
